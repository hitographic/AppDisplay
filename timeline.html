```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                            VALID DISPLAY - SYSTEM ARCHITECTURE                          │
│                         Product Display Management System v1.0.1                        │
└─────────────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                    USER INTERFACE                                       │
│                              (GitHub Pages - Static Site)                               │
│                         https://hitographic.github.io/AppDisplay/                       │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   ┌──────────────┐    ┌──────────────────┐    ┌──────────────┐    ┌──────────────┐     │
│   │  index.html  │    │ create-display   │    │ records.html │    │  users.html  │     │
│   │   (Login)    │───▶│     .html        │◀──▶│  (Records)   │    │   (Users)    │     │
│   └──────────────┘    │ (Create Record)  │    └──────────────┘    └──────────────┘     │
│                       └──────────────────┘                                              │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          │ API Calls (JSONP)
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                               GOOGLE APPS SCRIPT                                        │
│                            (Backend - Web App API)                                      │
│                       GOOGLE_APPS_SCRIPT_CODE.js (deployed)                             │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   doGet(e) - Handle all requests via URL parameters                                     │
│                                                                                         │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐   │
│   │                            ACTIONS (action=xxx)                                 │   │
│   ├─────────────────────────────────────────────────────────────────────────────────┤   │
│   │                                                                                 │   │
│   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐    │   │
│   │  │   login     │  │  getUsers   │  │ updateUser  │  │    addUser          │    │   │
│   │  │             │  │             │  │             │  │    deleteUser       │    │   │
│   │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────────────┘    │   │
│   │                                                                                 │   │
│   │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐    │   │
│   │  │ getRecords  │  │  addRecord  │  │updateRecord │  │   deleteRecord      │    │   │
│   │  │             │  │             │  │             │  │   validateRecord    │    │   │
│   │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────────────┘    │   │
│   │                                                                                 │   │
│   └─────────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          │ SpreadsheetApp API
                                          ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                 GOOGLE SHEETS                                           │
│                         (Database - Spreadsheet ID: xxx)                                │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   ┌───────────────────────────────────┐    ┌───────────────────────────────────────┐   │
│   │         SHEET: "Users"            │    │         SHEET: "Records"              │   │
│   ├───────────────────────────────────┤    ├───────────────────────────────────────┤   │
│   │ • NIK (Primary Key)               │    │ • ID (Primary Key)                    │   │
│   │ • Name                            │    │ • Flavor                              │   │
│   │ • Password                        │    │ • Negara                              │   │
│   │ • Role (admin/field/viewer)       │    │ • Tanggal                             │   │
│   │ • Permissions                     │    │ • Photos (JSON - Google Drive IDs)    │   │
│   │   - records_viewer                │    │ • ValidationStatus                    │   │
│   │   - records_editor                │    │ • ValidationReason                    │   │
│   │   - records_validator             │    │ • ValidatedBy / ValidatedAt           │   │
│   │   - user_admin                    │    │ • CreatedBy / CreatedAt               │   │
│   │ • Status (active/inactive)        │    │ • UpdatedBy / UpdatedAt               │   │
│   │ • Created/Updated timestamps      │    │                                       │   │
│   └───────────────────────────────────┘    └───────────────────────────────────────┘   │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                  GOOGLE DRIVE                                           │
│                           (Photo Storage - Folder ID: xxx)                              │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   ┌─────────────────────────────────────────────────────────────────────────────────┐   │
│   │                         FOLDER: "VALID-DISPLAY-PHOTOS"                          │   │
│   ├─────────────────────────────────────────────────────────────────────────────────┤   │
│   │                                                                                 │   │
│   │   📁 Photos organized by category:                                              │   │
│   │   ├── 📷 bumbu_[recordId]_[timestamp].jpg                                       │   │
│   │   ├── 📷 m-bumbu_[recordId]_[timestamp].jpg                                     │   │
│   │   ├── 📷 si_[recordId]_[timestamp].jpg                                          │   │
│   │   ├── 📷 karton_[recordId]_[timestamp].jpg                                      │   │
│   │   ├── 📷 etiket_[recordId]_[timestamp].jpg                                      │   │
│   │   ├── 📷 etiket-banded_[recordId]_[timestamp].jpg                               │   │
│   │   └── 📷 plakban_[recordId]_[timestamp].jpg                                     │   │
│   │                                                                                 │   │
│   └─────────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                         │
│   Access via: Google Drive API v3 (OAuth2 Token)                                        │
│   Thumbnail: https://lh3.googleusercontent.com/d/[FILE_ID]                              │
│   Direct: https://drive.google.com/uc?id=[FILE_ID]                                      │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════════════════
                                    DATA FLOW DIAGRAMS
═══════════════════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ FLOW 1: USER LOGIN                                                                      │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   User          Frontend           Apps Script         Google Sheets                    │
│    │                │                   │                    │                          │
│    │─── NIK/Pass ──▶│                   │                    │                          │
│    │                │── action=login ──▶│                    │                          │
│    │                │   nik=xxx         │── Read Users ─────▶│                          │
│    │                │   password=xxx    │◀── User Data ──────│                          │
│    │                │◀── {success,      │                    │                          │
│    │                │     user: {...}}  │                    │                          │
│    │◀── Redirect ───│                   │                    │                          │
│    │   to Records   │                   │                    │                          │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ FLOW 2: CREATE RECORD WITH PHOTOS                                                       │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   User          Frontend           Google Drive        Apps Script      Sheets          │
│    │                │                   │                   │              │            │
│    │── Fill Form ──▶│                   │                   │              │            │
│    │   + Photos     │                   │                   │              │            │
│    │                │                   │                   │              │            │
│    │                │── Upload Photo ──▶│                   │              │            │
│    │                │   (OAuth Token)   │                   │              │            │
│    │                │◀── {id, link} ────│                   │              │            │
│    │                │                   │                   │              │            │
│    │                │── action=addRecord ─────────────────▶│              │            │
│    │                │   data={flavor,   │                   │── Insert ──▶│            │
│    │                │   negara, photos} │                   │◀── OK ──────│            │
│    │                │◀── {success} ─────────────────────────│              │            │
│    │◀── Success ────│                   │                   │              │            │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ FLOW 3: LOAD & DISPLAY RECORDS                                                          │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│   User          Frontend           Apps Script         Sheets         Google Drive      │
│    │                │                   │                 │                │            │
│    │── Open Page ──▶│                   │                 │                │            │
│    │                │── action=         │                 │                │            │
│    │                │   getRecords ────▶│── Query ───────▶│                │            │
│    │                │                   │◀── All Rows ────│                │            │
│    │                │◀── {records:[]}───│                 │                │            │
│    │                │                   │                 │                │            │
│    │                │── Load Images ───────────────────────────────────────▶           │
│    │                │   via thumbnail   │                 │                │            │
│    │                │◀── Image Data ────────────────────────────────────────           │
│    │◀── Display ────│                   │                 │                │            │
│       Cards + Pagination                │                 │                │            │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════════════════════════
                                   PERMISSION MATRIX
═══════════════════════════════════════════════════════════════════════════════════════════

┌──────────────────────┬────────────┬────────────┬────────────┬────────────┐
│      Permission      │   Viewer   │   Editor   │ Validator  │ User Admin │
├──────────────────────┼────────────┼────────────┼────────────┼────────────┤
│ View Records         │     ✅     │     ✅     │     ✅     │     -      │
│ Create Records       │     ❌     │     ✅     │     ❌     │     -      │
│ Edit Records         │     ❌     │     ✅     │     ❌     │     -      │
│ Delete Records       │     ❌     │     ✅     │     ❌     │     -      │
│ Validate Records     │     ❌     │     ❌     │     ✅     │     -      │
│ Manage Users         │     ❌     │     ❌     │     ❌     │     ✅     │
│ See Drive Alerts     │     ❌     │     ✅     │     ❌     │     -      │
└──────────────────────┴────────────┴────────────┴────────────┴────────────┘


═══════════════════════════════════════════════════════════════════════════════════════════
                                   TECHNOLOGY STACK
═══════════════════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ FRONTEND                           │ BACKEND                │ STORAGE                  │
├────────────────────────────────────┼────────────────────────┼──────────────────────────┤
│ • HTML5                            │ • Google Apps Script   │ • Google Sheets (DB)     │
│ • CSS3 (Custom Properties)         │ • JSONP for CORS       │ • Google Drive (Photos)  │
│ • Vanilla JavaScript               │ • doGet() Web App      │ • localStorage (Cache)   │
│ • Font Awesome Icons               │                        │                          │
│ • GitHub Pages (Hosting)           │                        │                          │
└────────────────────────────────────┴────────────────────────┴──────────────────────────┘
```
Ringkasan Singkat:
User membuka aplikasi → GitHub Pages menyajikan halaman HTML/CSS/JS

Login → Frontend kirim NIK/Password ke Apps Script → Apps Script cek di Google Sheets → Return user data

Buat Record dengan Foto:

Foto di-upload langsung ke Google Drive (via OAuth token)
Data record + ID foto disimpan ke Google Sheets via Apps Script
Lihat Records:

Apps Script ambil data dari Google Sheets
Frontend tampilkan cards + load foto dari Google Drive thumbnail
Permission dikontrol via kolom Permissions di sheet Users